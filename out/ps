sampler2D inp; 
uniform int kSize = 9;
uniform float koeff[9];
uniform float2 direction;
        
float4 ps_main(float2 vTexCoord : TEXCOORD0) : COLOR {
    float4 sum = 0.f;
    float2 startDir = -0.5f*direction*float(kSize-1);
    for (int i = 0; i < kSize; i++) { 
        sum += tex2D(inp, vTexCoord + startDir + direction*i) * koeff[i];
    }
    return sum;
}